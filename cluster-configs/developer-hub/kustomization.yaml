apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: developer-hub-configs

# NOTE: Secrets (keycloak-secrets.yaml, rhdh-secrets.yaml, argocd-secrets.yaml)
# are NOT included here - they are gitignored and must be applied manually.
# See secrets/kustomization.yaml for manual secret application.

resources:
- namespace.yaml
- rhdh-operator.yaml
- dynamic-plugins.yaml
- dynamic-plugins-root-pvc.yaml
- app-config-production.yaml
- rbac-policies.yaml
# rhdh-instance.yaml is applied AFTER secrets are in place
# It references the secrets, so they must exist first
- rhdh-instance.yaml

commonLabels:
  config.openshift.io/component: developer-hub
  config.openshift.io/managed-by: gitops
